const productButtons=document.querySelectorAll(".product__button_buy"),addToCartPopup=document.querySelector(".modal.add-to-cart"),addToCartClose=addToCartPopup.querySelector(".modal__close"),addToCartPurchase=addToCartPopup.querySelector(".add-to-cart__button_purchase"),addToCartContinue=addToCartPopup.querySelector(".add-to-cart__button_continue");addToCartPopup&&(productButtons.forEach(e=>e.addEventListener("click",e=>{e.preventDefault(),addToCartPopup.classList.add("modal_show"),addToCartPurchase.focus()})),addToCartClose.addEventListener("click",()=>{addToCartPopup.classList.remove("modal_show")}),addToCartContinue.addEventListener("click",()=>{addToCartPopup.classList.remove("modal_show")}),window.addEventListener("keydown",e=>{27===e.keyCode&&addToCartPopup.classList.contains("modal_show")&&(e.preventDefault(),addToCartPopup.classList.remove("modal_show"))}));const slider=document.querySelector(".slider"),sliderButtonPrev=document.querySelector(".slider__button_prev"),sliderButtonNext=document.querySelector(".slider__button_next"),sliderControls=document.querySelectorAll(".slider__control"),slides=document.querySelectorAll(".slide"),NUM_OF_SLIDES=2;let currentSlide=1;function switchToSlide(e){const t=slider.querySelector(".slide_current");t.classList.remove("slide_current"),slides[e].classList.add("slide_current");const s=slider.querySelector(".slider__control_current");s.classList.remove("slider__control_current"),sliderControls[e].classList.add("slider__control_current")}slider&&(sliderControls.forEach((e,t)=>{e.addEventListener("click",()=>{switchToSlide(t)})}),sliderButtonPrev.addEventListener("click",()=>{currentSlide=Math.abs(--currentSlide%NUM_OF_SLIDES),switchToSlide(currentSlide)}),sliderButtonNext.addEventListener("click",()=>{currentSlide=++currentSlide%NUM_OF_SLIDES,switchToSlide(currentSlide)}));const feedbackButton=document.querySelector(".contacts__button"),feedbackPopup=document.querySelector(".modal.feedback");let isStorageSupport=!0,savedName="",savedEmail="";try{savedName=localStorage.getItem("feedback.name"),savedEmail=localStorage.getItem("feedback.email")}catch(e){isStorageSupport=!1}if(feedbackPopup){const j=feedbackPopup.querySelector(".modal__close"),k=feedbackPopup.querySelector(".feedback-form"),l=feedbackPopup.querySelector(".feedback-form__input_name"),m=feedbackPopup.querySelector(".feedback-form__input_email"),n=feedbackPopup.querySelector(".feedback-form__input_text");feedbackButton.addEventListener("click",e=>{e.preventDefault(),feedbackPopup.classList.add("modal_show"),savedName&&(l.value=savedName),savedEmail&&(m.value=savedEmail),(savedName&&savedEmail?n:savedName?m:l).focus()}),j.addEventListener("click",e=>{e.preventDefault(),feedbackPopup.classList.remove("modal_show"),feedbackPopup.classList.remove("modal_error")}),k.addEventListener("submit",e=>{l.value&&m.value&&n.value?isStorageSupport&&(localStorage.setItem("feedback.name",l.value),localStorage.setItem("feedback.email",m.value)):(e.preventDefault(),feedbackPopup.classList.remove("modal_error"),feedbackPopup.offsetWidth=feedbackPopup.offsetWidth,feedbackPopup.classList.add("modal_error"))}),window.addEventListener("keydown",e=>{27===e.keyCode&&feedbackPopup.classList.contains("modal_show")&&(e.preventDefault(),feedbackPopup.classList.remove("modal_show"),feedbackPopup.classList.remove("modal_error"))})}const mapLink=document.querySelector(".contacts__link"),mapPopup=document.querySelector(".modal.map");if(mapPopup){const s=mapPopup.querySelector(".modal__close");mapLink.addEventListener("click",e=>{e.preventDefault(),mapPopup.classList.add("modal_show")}),s.addEventListener("click",e=>{e.preventDefault(),mapPopup.classList.remove("modal_show")}),window.addEventListener("keydown",e=>{27===e.keyCode&&mapPopup.classList.contains("modal_show")&&(e.preventDefault(),mapPopup.classList.remove("modal_show"))})}const servicesTabs=document.querySelector(".services-tabs"),servicesTabsContents=document.querySelectorAll(".services-tabs-content"),servicesTabsListLinks=document.querySelectorAll(".services-tabs-list__link"),servicesTabsList=document.querySelector(".services-tabs-list");servicesTabs&&servicesTabsListLinks.forEach((o,a)=>{o.addEventListener("click",e=>{e.preventDefault();const t=servicesTabsList.querySelector(".services-tabs-list__item_current");t.classList.remove("services-tabs-list__item_current"),o.parentElement.classList.add("services-tabs-list__item_current");const s=servicesTabs.querySelector(".services-tabs-content_current");s.classList.remove("services-tabs-content_current"),servicesTabsContents[a].classList.add("services-tabs-content_current")})});