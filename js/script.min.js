const productButtons=document.querySelectorAll(".product__button_buy"),addToCartPopup=document.querySelector(".modal.add-to-cart"),addToCartClose=addToCartPopup.querySelector(".modal__close"),addToCartPurchase=addToCartPopup.querySelector(".add-to-cart__button_purchase"),addToCartContinue=addToCartPopup.querySelector(".add-to-cart__button_continue");addToCartPopup&&(productButtons.forEach(e=>e.addEventListener("click",e=>{e.preventDefault(),addToCartPopup.classList.add("modal_show"),addToCartPurchase.focus()})),addToCartClose.addEventListener("click",()=>{addToCartPopup.classList.remove("modal_show")}),addToCartContinue.addEventListener("click",()=>{addToCartPopup.classList.remove("modal_show")}),window.addEventListener("keydown",e=>{27===e.keyCode&&addToCartPopup.classList.contains("modal_show")&&(e.preventDefault(),addToCartPopup.classList.remove("modal_show"))}));const slider=document.querySelector(".slider"),sliderButtonPrev=document.querySelector(".slider__button_prev"),sliderButtonNext=document.querySelector(".slider__button_next"),sliderControls=document.querySelectorAll(".slider__control"),slides=document.querySelectorAll(".slide"),NUM_OF_SLIDES=2;let currentSlide=1;function switchToSlide(e){const t=slider.querySelector(".slide_current");t.classList.remove("slide_current"),slides[e].classList.add("slide_current");const a=slider.querySelector(".slider__control_current");a.classList.remove("slider__control_current"),sliderControls[e].classList.add("slider__control_current")}slider&&(sliderControls.forEach((e,t)=>{e.addEventListener("click",()=>{switchToSlide(t)})}),sliderButtonPrev.addEventListener("click",()=>{currentSlide=Math.abs(--currentSlide%NUM_OF_SLIDES),switchToSlide(currentSlide)}),sliderButtonNext.addEventListener("click",()=>{currentSlide=++currentSlide%NUM_OF_SLIDES,switchToSlide(currentSlide)}));const feedbackButton=document.querySelector(".contacts__button"),feedbackPopup=document.querySelector(".modal.feedback"),feedbackClose=feedbackPopup.querySelector(".modal__close"),feedbackForm=feedbackPopup.querySelector(".feedback-form"),feedbackName=feedbackPopup.querySelector(".feedback-form__input_name"),feedbackEmail=feedbackPopup.querySelector(".feedback-form__input_email"),feedbackText=feedbackPopup.querySelector(".feedback-form__input_text");let isStorageSupport=!0,savedName="",savedEmail="";try{savedName=localStorage.getItem("feedback.name"),savedEmail=localStorage.getItem("feedback.email")}catch(e){isStorageSupport=!1}feedbackPopup&&(feedbackButton.addEventListener("click",e=>{e.preventDefault(),feedbackPopup.classList.add("modal_show"),savedName&&(feedbackName.value=savedName),savedEmail&&(feedbackEmail.value=savedEmail),(savedName&&savedEmail?feedbackText:savedName?feedbackEmail:feedbackName).focus()}),feedbackClose.addEventListener("click",e=>{e.preventDefault(),feedbackPopup.classList.remove("modal_show"),feedbackPopup.classList.remove("modal_error")}),feedbackForm.addEventListener("submit",e=>{feedbackName.value&&feedbackEmail.value&&feedbackText.value?isStorageSupport&&(localStorage.setItem("feedback.name",feedbackName.value),localStorage.setItem("feedback.email",feedbackEmail.value)):(e.preventDefault(),feedbackPopup.classList.remove("modal_error"),feedbackPopup.offsetWidth=feedbackPopup.offsetWidth,feedbackPopup.classList.add("modal_error"))}),window.addEventListener("keydown",e=>{27===e.keyCode&&feedbackPopup.classList.contains("modal_show")&&(e.preventDefault(),feedbackPopup.classList.remove("modal_show"),feedbackPopup.classList.remove("modal_error"))}));const mapLink=document.querySelector(".contacts__link"),mapPopup=document.querySelector(".modal.map"),mapClose=mapPopup.querySelector(".modal__close");mapPopup&&(mapLink.addEventListener("click",e=>{e.preventDefault(),mapPopup.classList.add("modal_show")}),mapClose.addEventListener("click",e=>{e.preventDefault(),mapPopup.classList.remove("modal_show")}),window.addEventListener("keydown",e=>{27===e.keyCode&&mapPopup.classList.contains("modal_show")&&(e.preventDefault(),mapPopup.classList.remove("modal_show"))}));const servicesTabs=document.querySelector(".services-tabs"),servicesTabsContents=document.querySelectorAll(".services-tabs-content"),servicesTabsListLinks=document.querySelectorAll(".services-tabs-list__link"),servicesTabsList=document.querySelector(".services-tabs-list");servicesTabs&&servicesTabsListLinks.forEach((s,o)=>{s.addEventListener("click",e=>{e.preventDefault();const t=servicesTabsList.querySelector(".services-tabs-list__item_current");t.classList.remove("services-tabs-list__item_current"),s.parentElement.classList.add("services-tabs-list__item_current");const a=servicesTabs.querySelector(".services-tabs-content_current");a.classList.remove("services-tabs-content_current"),servicesTabsContents[o].classList.add("services-tabs-content_current")})});